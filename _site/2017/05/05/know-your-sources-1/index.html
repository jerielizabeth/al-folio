<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Jeri E. Wieringa | Know Your Sources (Part 1)</title>
<meta name="description" content="Work at the intersection of religious studies, history, and data science.
">

<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.17.0/css/mdb.min.css" integrity="sha256-/SwJ2GDcEt5382i8zqDwl36VJGECxEoIcBIuoLmLR4g=" crossorigin="anonymous" />

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"  integrity="sha256-h20CPZ0QyXlBuAw7A+KluUYx/3pK+c7lYEpqLTlxjYQ=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

<!-- Styles -->
<link rel="shortcut icon" href="/assets/img/favicon.ico">
<link rel="stylesheet" href="/assets/css/main.css">

<link rel="canonical" href="/2017/05/05/know-your-sources-1/">

<!-- Open Graph -->


  </head>

  <body class="fixed-top-nav ">

    <!-- Header -->

    <header>

    <!-- Nav Bar -->
    <nav id="navbar" class="navbar navbar-light bg-white navbar-expand-sm fixed-top">
    <div class="container">
      
      
      
      
      
      <a class="navbar-brand title font-weight-lighter" href="/">
       <span class="font-weight-bold">Jeri</span> E.  Wieringa
      </a>
      
      <!-- Navbar Toogle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              about
              
            </a>
          </li>
          
          <!-- Blog -->
          <li class="nav-item ">
            <a class="nav-link" href="/blog/">
              blog
              
            </a>
          </li>
          
          <!-- Other pages -->
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/projects/">
                projects
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/publications/">
                publications
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/teaching/">
                teaching
                
              </a>
          </li>
          
          
        </ul>
      </div>
    </div>
  </nav>

</header>


    <!-- Content -->

    <div class="container mt-5">
      

<div class="post">

  <header class="post-header">
    <h1 class="post-title">Know Your Sources (Part 1)</h1>
    <p class="post-meta">May 5, 2017</p>
  </header>

  <article class="post-content">
    <p><em>This is <a href="http://jeriwieringa.com/portfolio/dissertation/">part of a series</a> of technical essays documenting the computational analysis that undergirds my dissertation,</em> A Gospel of Health and Salvation. <em>For an overview of the dissertation project, you can read the <a href="http://jeriwieringa.com/2017/04/21/updated-dissertation-description">current project description</a> at <a href="http://jeriwieringa.com">jeriwieringa.com</a>. You can access the Jupyter notebooks on <a href="https://github.com/jerielizabeth/Gospel-of-Health-Notebooks">Github</a>.</em></p>

<p><em>My goals in sharing the notebooks and technical essays are three-fold. First, I hope that they might prove useful to others interested in taking on similar projects. In these notebooks I describe and model how to approach a large corpus of sources in the production of historical scholarship.</em></p>

<p><em>Second, I am sharing them in hopes that “<a href="https://en.wikipedia.org/wiki/Linus%27s_Law">given enough eyeballs, all bugs are shallow</a>.” If you encounter any bugs, if you see an alternative way to solve a problem, or if the code does not achieve the goals I have set out for it, please let me know!</em></p>

<p><em>Third, these notebooks make an argument for methodological transparency and for the discussion of methods as part of the scholarly argument of digital history. Often the technical work in digital history is done behind the scenes, with publications favoring the final research products, usually in article form with interesting visualizations. While there is a growing culture in digital history of releasing source code, there is little discussion of how that code was developed, why solutions were chosen, and what those solutions enable and prevent. In these notebooks I seek to engage that middle space between code and the final analysis - documenting the computational problem solving that I’ve done as part of the analysis. As these essays attest, each step in the processing of the corpus requires the researcher to make a myriad of distinctions about the worlds they seek to model, distinctions that shape the outcomes of the computational analysis and are part of the historical argument of the work.</em></p>

<hr />

<p>Now that we have a collection of texts <a href="http://jeriwieringa.com/2017/04/25/gathering-sources/">selected and downloaded</a>, and have <a href="http://jeriwieringa.com/2017/04/27/Extract-Text-from-PDFs/">extracted the text</a>, we need to spend some time identifying what the corpus contains, both in terms of coverage and quality. As I describe in the <a href="http://jeriwieringa.com/2017/04/21/updated-dissertation-description">project overview</a>, I will be using these texts to make arguments about the development of the community’s discourses around health and salvation. While the corpus makes that analysis possible, it also sets the limits of what we can claim from text analysis alone. Without an understanding of what those limits are, we run the risk of claiming more than the sources can sustain, and in doing so, minimizing the very complexities that historical research seeks to reveal.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"""My usual practice for gathering the filenames is to read 
them in from a directory. So that this code can be run locally 
without the full corpus downloaded, I exported the list 
of filenames to an index file for use in this notebook.
"""</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data/2017-05-05-corpus-index.txt"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">corpus</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="n">read</span><span class="p">().</span><span class="n">splitlines</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">len</span><span class="p">(</span><span class="n">corpus</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>197943
</code></pre></div></div>

<p>To create an overview of the corpus, I will use the document filenames along with some descriptive metadata that I created.</p>

<p>Filenames are an often underestimated feature of digital files, but one that can be used to great effect. For my corpus, the team that digitized the periodicals did an excellent job of providing the files with descriptive names. Overall, the files conform to the following pattern:</p>

<p><code class="language-plaintext highlighter-rouge">PrefixYYYYMMDD-V00-00.pdf</code></p>

<p>I discovered a few files that deviated from the pattern, but renamed those so that the pattern held throughout the corpus. When splitting the PDF documents into pages, I preserved the structure, adding <code class="language-plaintext highlighter-rouge">-page0.txt</code> to the end.</p>

<p>The advantage of this format is that the filenames contain the metadata I need to place each file within its context. By isolating the different sections of the filename, I can quickly place any file with reference to the periodical title and the publication date.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">re</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">extract_pub_info</span><span class="p">(</span><span class="n">doc_list</span><span class="p">):</span>
    <span class="s">"""Use regex to extract metadata from filename.
    
    Note:
        Assumes that the filename is formatted as::
            
            `PrefixYYYYMMDD-V00-00.pdf`
    
    Args:
        doc_list (list): List of the filenames in the corpus.
    Returns:
        dict: Dictionary with the year and title abbreviation for each filename.
    """</span>
    
    <span class="n">corpus_info</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="k">for</span> <span class="n">doc_id</span> <span class="ow">in</span> <span class="n">doc_list</span><span class="p">:</span>
        
        <span class="c1"># Split the ID into three parts on the '-'
</span>        <span class="n">split_doc_id</span> <span class="o">=</span> <span class="n">doc_id</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">'-'</span><span class="p">)</span>
        
        <span class="c1"># Get the prefix by matching the first set of letters 
</span>        <span class="c1"># in the first part of the filename.
</span>        <span class="n">title</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">"[A-Za-z]+"</span><span class="p">,</span> <span class="n">split_doc_id</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="c1"># Get the dates by grabbing all of the number elements 
</span>        <span class="c1"># in the first part of the filename.
</span>        <span class="n">dates</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">r'[0-9]+'</span><span class="p">,</span> <span class="n">split_doc_id</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="c1"># The first four numbers is the publication year.
</span>        <span class="n">year</span> <span class="o">=</span> <span class="n">dates</span><span class="p">.</span><span class="n">group</span><span class="p">()[:</span><span class="mi">4</span><span class="p">]</span>
        
        <span class="c1"># Update the dictionary with the title and year 
</span>        <span class="c1"># for the filename.
</span>        <span class="n">corpus_info</span><span class="p">[</span><span class="n">doc_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="n">title</span><span class="p">.</span><span class="n">group</span><span class="p">(),</span> <span class="s">'year'</span><span class="p">:</span> <span class="n">year</span><span class="p">}</span>
    
    <span class="k">return</span> <span class="n">corpus_info</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">corpus_info</span> <span class="o">=</span> <span class="n">extract_pub_info</span><span class="p">(</span><span class="n">corpus</span><span class="p">)</span>
</code></pre></div></div>

<p>One of the most useful libraries in Python for working with data is <a href="http://pandas.pydata.org/">Pandas</a>. With Pandas, Python users gain much of the functionality that our colleagues who work with R have long celebrated as the benefits of that domain-specific language.</p>

<p>By transforming our <code class="language-plaintext highlighter-rouge">corpus_info</code> dictionary into a dataframe, we can quickly filter and tabulate a number of different statistics on our corpus.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">corpus_info</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s">'index'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="n">index</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">'docs'</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">.</span><span class="n">reset_index</span><span class="p">()</span>
</code></pre></div></div>

<p>You can preview the initial dataframe by uncommenting the cell below.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># df
</span></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">.</span><span class="n">groupby</span><span class="p">([</span><span class="s">"title"</span><span class="p">,</span> <span class="s">"year"</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">).</span><span class="n">docs</span><span class="p">.</span><span class="n">count</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span>
</code></pre></div></div>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>title</th>
      <th>year</th>
      <th>docs</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ADV</td>
      <td>1898</td>
      <td>26</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ADV</td>
      <td>1899</td>
      <td>674</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ADV</td>
      <td>1900</td>
      <td>463</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ADV</td>
      <td>1901</td>
      <td>389</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ADV</td>
      <td>1902</td>
      <td>440</td>
    </tr>
    <tr>
      <th>5</th>
      <td>ADV</td>
      <td>1903</td>
      <td>428</td>
    </tr>
    <tr>
      <th>6</th>
      <td>ADV</td>
      <td>1904</td>
      <td>202</td>
    </tr>
    <tr>
      <th>7</th>
      <td>ADV</td>
      <td>1905</td>
      <td>20</td>
    </tr>
    <tr>
      <th>8</th>
      <td>ARAI</td>
      <td>1909</td>
      <td>64</td>
    </tr>
    <tr>
      <th>9</th>
      <td>ARAI</td>
      <td>1919</td>
      <td>32</td>
    </tr>
    <tr>
      <th>10</th>
      <td>AmSn</td>
      <td>1886</td>
      <td>96</td>
    </tr>
    <tr>
      <th>11</th>
      <td>AmSn</td>
      <td>1887</td>
      <td>96</td>
    </tr>
    <tr>
      <th>12</th>
      <td>AmSn</td>
      <td>1888</td>
      <td>105</td>
    </tr>
    <tr>
      <th>13</th>
      <td>AmSn</td>
      <td>1889</td>
      <td>386</td>
    </tr>
    <tr>
      <th>14</th>
      <td>AmSn</td>
      <td>1890</td>
      <td>403</td>
    </tr>
    <tr>
      <th>15</th>
      <td>AmSn</td>
      <td>1891</td>
      <td>398</td>
    </tr>
    <tr>
      <th>16</th>
      <td>AmSn</td>
      <td>1892</td>
      <td>401</td>
    </tr>
    <tr>
      <th>17</th>
      <td>AmSn</td>
      <td>1893</td>
      <td>402</td>
    </tr>
    <tr>
      <th>18</th>
      <td>AmSn</td>
      <td>1894</td>
      <td>402</td>
    </tr>
    <tr>
      <th>19</th>
      <td>AmSn</td>
      <td>1895</td>
      <td>400</td>
    </tr>
    <tr>
      <th>20</th>
      <td>AmSn</td>
      <td>1896</td>
      <td>408</td>
    </tr>
    <tr>
      <th>21</th>
      <td>AmSn</td>
      <td>1897</td>
      <td>800</td>
    </tr>
    <tr>
      <th>22</th>
      <td>AmSn</td>
      <td>1898</td>
      <td>804</td>
    </tr>
    <tr>
      <th>23</th>
      <td>AmSn</td>
      <td>1899</td>
      <td>801</td>
    </tr>
    <tr>
      <th>24</th>
      <td>AmSn</td>
      <td>1900</td>
      <td>800</td>
    </tr>
    <tr>
      <th>25</th>
      <td>CE</td>
      <td>1909</td>
      <td>104</td>
    </tr>
    <tr>
      <th>26</th>
      <td>CE</td>
      <td>1910</td>
      <td>312</td>
    </tr>
    <tr>
      <th>27</th>
      <td>CE</td>
      <td>1911</td>
      <td>312</td>
    </tr>
    <tr>
      <th>28</th>
      <td>CE</td>
      <td>1912</td>
      <td>306</td>
    </tr>
    <tr>
      <th>29</th>
      <td>CE</td>
      <td>1913</td>
      <td>420</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>465</th>
      <td>YI</td>
      <td>1885</td>
      <td>192</td>
    </tr>
    <tr>
      <th>466</th>
      <td>YI</td>
      <td>1886</td>
      <td>220</td>
    </tr>
    <tr>
      <th>467</th>
      <td>YI</td>
      <td>1887</td>
      <td>244</td>
    </tr>
    <tr>
      <th>468</th>
      <td>YI</td>
      <td>1888</td>
      <td>104</td>
    </tr>
    <tr>
      <th>469</th>
      <td>YI</td>
      <td>1889</td>
      <td>208</td>
    </tr>
    <tr>
      <th>470</th>
      <td>YI</td>
      <td>1890</td>
      <td>208</td>
    </tr>
    <tr>
      <th>471</th>
      <td>YI</td>
      <td>1895</td>
      <td>416</td>
    </tr>
    <tr>
      <th>472</th>
      <td>YI</td>
      <td>1898</td>
      <td>28</td>
    </tr>
    <tr>
      <th>473</th>
      <td>YI</td>
      <td>1899</td>
      <td>408</td>
    </tr>
    <tr>
      <th>474</th>
      <td>YI</td>
      <td>1900</td>
      <td>408</td>
    </tr>
    <tr>
      <th>475</th>
      <td>YI</td>
      <td>1901</td>
      <td>408</td>
    </tr>
    <tr>
      <th>476</th>
      <td>YI</td>
      <td>1902</td>
      <td>408</td>
    </tr>
    <tr>
      <th>477</th>
      <td>YI</td>
      <td>1903</td>
      <td>408</td>
    </tr>
    <tr>
      <th>478</th>
      <td>YI</td>
      <td>1904</td>
      <td>288</td>
    </tr>
    <tr>
      <th>479</th>
      <td>YI</td>
      <td>1905</td>
      <td>408</td>
    </tr>
    <tr>
      <th>480</th>
      <td>YI</td>
      <td>1906</td>
      <td>408</td>
    </tr>
    <tr>
      <th>481</th>
      <td>YI</td>
      <td>1907</td>
      <td>432</td>
    </tr>
    <tr>
      <th>482</th>
      <td>YI</td>
      <td>1908</td>
      <td>832</td>
    </tr>
    <tr>
      <th>483</th>
      <td>YI</td>
      <td>1909</td>
      <td>844</td>
    </tr>
    <tr>
      <th>484</th>
      <td>YI</td>
      <td>1910</td>
      <td>850</td>
    </tr>
    <tr>
      <th>485</th>
      <td>YI</td>
      <td>1911</td>
      <td>852</td>
    </tr>
    <tr>
      <th>486</th>
      <td>YI</td>
      <td>1912</td>
      <td>868</td>
    </tr>
    <tr>
      <th>487</th>
      <td>YI</td>
      <td>1913</td>
      <td>848</td>
    </tr>
    <tr>
      <th>488</th>
      <td>YI</td>
      <td>1914</td>
      <td>852</td>
    </tr>
    <tr>
      <th>489</th>
      <td>YI</td>
      <td>1915</td>
      <td>852</td>
    </tr>
    <tr>
      <th>490</th>
      <td>YI</td>
      <td>1916</td>
      <td>852</td>
    </tr>
    <tr>
      <th>491</th>
      <td>YI</td>
      <td>1917</td>
      <td>840</td>
    </tr>
    <tr>
      <th>492</th>
      <td>YI</td>
      <td>1918</td>
      <td>850</td>
    </tr>
    <tr>
      <th>493</th>
      <td>YI</td>
      <td>1919</td>
      <td>856</td>
    </tr>
    <tr>
      <th>494</th>
      <td>YI</td>
      <td>1920</td>
      <td>45</td>
    </tr>
  </tbody>
</table>
<p>495 rows × 3 columns</p>
</div>

<p>Nearly 500 rows of data is too large to have a good sense of the coverage of the corpus from reading the data table, so it is necessary to create some visualizations of the records. For a quick prototyping tool, I am using the <a href="http://bokeh.pydata.org/en/latest/"><code class="language-plaintext highlighter-rouge">Bokeh</code></a> library.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">bokeh.charts</span> <span class="kn">import</span> <span class="n">Bar</span><span class="p">,</span> <span class="n">show</span>
<span class="kn">from</span> <span class="nn">bokeh.charts</span> <span class="kn">import</span> <span class="n">defaults</span>
<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">output_notebook</span>
<span class="kn">from</span> <span class="nn">bokeh.palettes</span> <span class="kn">import</span> <span class="n">viridis</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">output_notebook</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">defaults</span><span class="p">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">900</span>
<span class="n">defaults</span><span class="p">.</span><span class="n">height</span> <span class="o">=</span> <span class="mi">950</span>
</code></pre></div></div>

<p>In this first graph, I am showing the total number of pages per title, per year in the corpus.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p</span> <span class="o">=</span> <span class="n">Bar</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> 
        <span class="s">'year'</span><span class="p">,</span> 
        <span class="n">values</span><span class="o">=</span><span class="s">'docs'</span><span class="p">,</span>
        <span class="n">agg</span><span class="o">=</span><span class="s">'sum'</span><span class="p">,</span> 
        <span class="n">stack</span><span class="o">=</span><span class="s">'title'</span><span class="p">,</span>
        <span class="n">palette</span><span class="o">=</span> <span class="n">viridis</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> 
        <span class="n">title</span><span class="o">=</span><span class="s">"Pages per Title per Year"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="/assets/img/2017-05-05-pages-title-year.png" alt="" /></p>

<p>This graph of the corpus reflects the historical development of the publication efforts denomination. Starting with a single publication in 1849, the publishing efforts of the denomination expand in the 1860s as they launch their health reform efforts, expand again in the 1880s as they start a publishing house in California and address concerns about Sunday observance laws, and again at the turn of the century as the denomination reorganizes and regional publications expand. The chart also reveals some holes in the corpus. The <em>Youth’s Instructor</em> (shown here in yellow) in one of the oldest continuous denominational publications, but the pages available for the years from 1850 - 1899 are inconsistent.</p>

<p>In interpreting the results of mining these texts, it will be important to factor in the relative difference in size and diversity of publication venues between the early years of the denomination and the later years of this study.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">by_title</span> <span class="o">=</span> <span class="n">df</span><span class="p">.</span><span class="n">groupby</span><span class="p">([</span><span class="s">"title"</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">).</span><span class="n">docs</span><span class="p">.</span><span class="nb">sum</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p</span> <span class="o">=</span> <span class="n">Bar</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> 
        <span class="s">'title'</span><span class="p">,</span> 
        <span class="n">values</span><span class="o">=</span><span class="s">'docs'</span><span class="p">,</span> 
        <span class="n">color</span><span class="o">=</span><span class="s">'title'</span><span class="p">,</span> 
        <span class="n">palette</span><span class="o">=</span><span class="n">viridis</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> 
        <span class="n">title</span><span class="o">=</span><span class="s">"Total Pages by Title"</span>
       <span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="/assets/img/2017-05-05-pages-title.png" alt="" /></p>

<p>Another way to view the coverage of the corpus is by total pages per periodical title. The <em>Advent Review and Sabbath Herald</em> dominates the corpus in number of pages, with <em>The Health Reformer</em>, <em>Signs of the Times</em>, and the <em>Youth’s Instructor</em>, making up the next major percentage of the corpus. In terms of scale, these publications will have (and had) a prominent role in shaping the discourse of the SDA community. At the same time, it will be informative to look to the smaller publications to see if we can surface alternative and dissonant ideas.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">topic_metadata</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'data/2017-05-05-periodical-topics.csv'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">topic_metadata</span>
</code></pre></div></div>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>periodicalTitle</th>
      <th>title</th>
      <th>startYear</th>
      <th>endYear</th>
      <th>initialPubLocation</th>
      <th>topic</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Training School Advocate</td>
      <td>ADV</td>
      <td>1898</td>
      <td>1905</td>
      <td>Battle Creek, MI</td>
      <td>Education</td>
    </tr>
    <tr>
      <th>1</th>
      <td>American Sentinel</td>
      <td>AmSn</td>
      <td>1886</td>
      <td>1900</td>
      <td>Oakland, CA</td>
      <td>Religious Liberty</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Advent Review and Sabbath Herald</td>
      <td>ARAI</td>
      <td>1909</td>
      <td>1919</td>
      <td>Washington, D.C.</td>
      <td>Denominational</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Christian Education</td>
      <td>CE</td>
      <td>1909</td>
      <td>1920</td>
      <td>Washington, D.C.</td>
      <td>Education</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Welcome Visitor (Columbia Union Visitor)</td>
      <td>CUV</td>
      <td>1901</td>
      <td>1920</td>
      <td>Academia, OH</td>
      <td>Regional</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Christian Educator</td>
      <td>EDU</td>
      <td>1897</td>
      <td>1899</td>
      <td>Battle Creek, MI</td>
      <td>Education</td>
    </tr>
    <tr>
      <th>6</th>
      <td>General Conference Bulletin</td>
      <td>GCB</td>
      <td>1863</td>
      <td>1918</td>
      <td>Battle Creek, MI</td>
      <td>Denominational</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Gospel Herald</td>
      <td>GH</td>
      <td>1898</td>
      <td>1920</td>
      <td>Yazoo City, MS</td>
      <td>Regional</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Gospel of Health</td>
      <td>GOH</td>
      <td>1897</td>
      <td>1899</td>
      <td>Battle Creek, MI</td>
      <td>Health</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Gospel Sickle</td>
      <td>GS</td>
      <td>1886</td>
      <td>1888</td>
      <td>Battle Creek, MI</td>
      <td>Missions</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Home Missionary</td>
      <td>HM</td>
      <td>1889</td>
      <td>1897</td>
      <td>Battle Creek, MI</td>
      <td>Missions</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Health Reformer</td>
      <td>HR</td>
      <td>1866</td>
      <td>1907</td>
      <td>Battle Creek, MI</td>
      <td>Health</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Indiana Reporter</td>
      <td>IR</td>
      <td>1901</td>
      <td>1910</td>
      <td>Indianapolis, IN</td>
      <td>Regional</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Life Boat</td>
      <td>LB</td>
      <td>1898</td>
      <td>1920</td>
      <td>Chicago, IL</td>
      <td>Missions</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Life and Health</td>
      <td>LH</td>
      <td>1904</td>
      <td>1920</td>
      <td>Washington, D.C.</td>
      <td>Health</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Liberty</td>
      <td>LibM</td>
      <td>1906</td>
      <td>1920</td>
      <td>Washington, D.C.</td>
      <td>Religious Liberty</td>
    </tr>
    <tr>
      <th>16</th>
      <td>Lake Union Herald</td>
      <td>LUH</td>
      <td>1908</td>
      <td>1920</td>
      <td>Berrien Springs, MI</td>
      <td>Regional</td>
    </tr>
    <tr>
      <th>17</th>
      <td>North Michigan News Sheet</td>
      <td>NMN</td>
      <td>1907</td>
      <td>1910</td>
      <td>Petoskey, MI</td>
      <td>Regional</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Pacific Health Journal and Temperance Advocate</td>
      <td>PHJ</td>
      <td>1885</td>
      <td>1904</td>
      <td>Oakland, CA</td>
      <td>Health</td>
    </tr>
    <tr>
      <th>19</th>
      <td>Present Truth (Advent Review)</td>
      <td>PTAR</td>
      <td>1849</td>
      <td>1850</td>
      <td>Middletown, CT</td>
      <td>Denominational</td>
    </tr>
    <tr>
      <th>20</th>
      <td>Pacific Union Recorder</td>
      <td>PUR</td>
      <td>1901</td>
      <td>1920</td>
      <td>Oakland, CA</td>
      <td>Regional</td>
    </tr>
    <tr>
      <th>21</th>
      <td>Review and Herald</td>
      <td>RH</td>
      <td>1850</td>
      <td>1920</td>
      <td>Paris, ME</td>
      <td>Denominational</td>
    </tr>
    <tr>
      <th>22</th>
      <td>Sligonian</td>
      <td>Sligo</td>
      <td>1916</td>
      <td>1920</td>
      <td>Washington, D.C.</td>
      <td>Regional</td>
    </tr>
    <tr>
      <th>23</th>
      <td>Sentinel of Liberty</td>
      <td>SOL</td>
      <td>1900</td>
      <td>1904</td>
      <td>Chicago, IL</td>
      <td>Religious Liberty</td>
    </tr>
    <tr>
      <th>24</th>
      <td>Signs of the Times</td>
      <td>ST</td>
      <td>1874</td>
      <td>1920</td>
      <td>Oakland, CA</td>
      <td>Denominational</td>
    </tr>
    <tr>
      <th>25</th>
      <td>Report of Progress, Southern Union Conference</td>
      <td>SUW</td>
      <td>1907</td>
      <td>1920</td>
      <td>Nashville, TN</td>
      <td>Regional</td>
    </tr>
    <tr>
      <th>26</th>
      <td>Church Officer's Gazette</td>
      <td>TCOG</td>
      <td>1914</td>
      <td>1920</td>
      <td>Washington, D.C.</td>
      <td>Denominational</td>
    </tr>
    <tr>
      <th>27</th>
      <td>The Missionary Magazine</td>
      <td>TMM</td>
      <td>1898</td>
      <td>1902</td>
      <td>Philadelphia, PA</td>
      <td>Missions</td>
    </tr>
    <tr>
      <th>28</th>
      <td>West Michigan Herald</td>
      <td>WMH</td>
      <td>1903</td>
      <td>1908</td>
      <td>Grand Rapids, MI</td>
      <td>Regional</td>
    </tr>
    <tr>
      <th>29</th>
      <td>Youth's Instructor</td>
      <td>YI</td>
      <td>1852</td>
      <td>1920</td>
      <td>Rochester, NY</td>
      <td>Denominational</td>
    </tr>
  </tbody>
</table>
</div>

<p>We can generate another view by adding some external metadata for the titles. The “topics” listed here are ones I assigned when skimming the different titles. “Denominational” refers to centrally produced publications, covering a wide array of topics. “Education” refers to periodicals focused on education. “Health” to publications focused on health. “Missions” titles are focused on outreach and evangelism focused publications and “Religious Liberty” on governmental concerns over Sabbath laws. Finally, “Regional” refers to periodicals produced by local union conferences, which like the denominational titles cover a wide range of topics.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">by_topic</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">merge</span><span class="p">(</span><span class="n">topic_metadata</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s">'title'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p</span> <span class="o">=</span> <span class="n">Bar</span><span class="p">(</span><span class="n">by_topic</span><span class="p">,</span> 
        <span class="s">'year'</span><span class="p">,</span> 
        <span class="n">values</span><span class="o">=</span><span class="s">'docs'</span><span class="p">,</span>
        <span class="n">agg</span><span class="o">=</span><span class="s">'sum'</span><span class="p">,</span> 
        <span class="n">stack</span><span class="o">=</span><span class="s">'topic'</span><span class="p">,</span>
        <span class="n">palette</span><span class="o">=</span> <span class="n">viridis</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> 
        <span class="n">title</span><span class="o">=</span><span class="s">"Pages per Topic per Year"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="/assets/img/2017-05-05-pages-topic-year.png" alt="" /></p>

<p>Here we can see the diversification of periodical subjects over time, especially around the turn of the century.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p</span> <span class="o">=</span> <span class="n">Bar</span><span class="p">(</span><span class="n">by_topic</span><span class="p">,</span> 
        <span class="s">'topic'</span><span class="p">,</span> 
        <span class="n">values</span><span class="o">=</span><span class="s">'docs'</span><span class="p">,</span>
        <span class="n">agg</span><span class="o">=</span><span class="s">'sum'</span><span class="p">,</span> 
        <span class="n">stack</span><span class="o">=</span><span class="s">'title'</span><span class="p">,</span>
        <span class="n">palette</span><span class="o">=</span> <span class="n">viridis</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> 
        <span class="n">title</span><span class="o">=</span><span class="s">"Pages per Topic per Year"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p</span><span class="p">.</span><span class="n">left</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">formatter</span><span class="p">.</span><span class="n">use_scientific</span> <span class="o">=</span> <span class="bp">False</span>
<span class="n">p</span><span class="p">.</span><span class="n">legend</span><span class="p">.</span><span class="n">location</span> <span class="o">=</span> <span class="s">"top_right"</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="/assets/img/2017-05-05-pages-topic.png" alt="" /></p>

<p>Grouping by category allows us to see that our corpus is dominated by the denominational, health, and regionally focused publications. These topics match with our research concerns, increasing our confidence that we will have enough information to determine meaningful patterns about those topics. But, due to the focus of the corpus, we should proceed cautiously before making any claims about the relative importance of those topics within the community.</p>

<p>Now that we have a sense of the temporal and topical coverage of our corpus, we will next turn our attention to evaluating the quality of the data that we have gathered from the scanned PDF files.</p>

<p><em>You can run this code locally using the <a href="https://github.com/jerielizabeth/Gospel-of-Health-Notebooks/blob/master/blogPosts/Know%20Your%20Sources%20(Part%201).ipynb">Jupyter notebook available via Github</a></em>.</p>


  </article>

  

</div>

    </div>

    <!-- Footer -->

    
<footer class="fixed-bottom">
  <div class="container mt-0">
    &copy; Copyright 2020 Jeri E. Wieringa.
    Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>.

    
  </div>
</footer>



  </body>

  <!-- Load Core and Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.0/umd/popper.min.js" integrity="sha256-OH05DFHUWzr725HmuHo3pnuvUUn+TJuj8/Qz9xytFEw=" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.17.0/js/mdb.min.js"  integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>

<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />


<!-- Load KaTeX -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" integrity="sha256-V8SV2MO1FUb63Bwht5Wx9x6PVHNa02gv8BgH/uH3ung=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.js" integrity="sha256-F/Xda58SPdcUCr+xhSGz9MA2zQBPb0ASEYKohl8UCHc=" crossorigin="anonymous"></script>
<script src="/assets/js/katex.js"></script>



<!-- Load Mansory & imagesLoaded -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/masonry/4.2.2/masonry.pkgd.min.js" integrity="" crossorigin="anonymous"></script>
<script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>

<!-- Project Cards Layout -->
<script type="text/javascript">
  // Init Masonry
  var $grid = $('.grid').masonry({
    gutter: 10,
    horizontalOrder: true,
    itemSelector: '.grid-item',
  });
  // layout Masonry after each image loads
  $grid.imagesLoaded().progress( function() {
    $grid.masonry('layout');
  });
</script>





<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-XXXXXXXXX', 'auto');
ga('send', 'pageview');
</script>



</html>
